<html>
    <head>
	<title>The test page</title>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta http-equiv="expires" content="0">
	<link rel="stylesheet" href="style.css" type="text/css" />
    </head>
    <body>
	<h3 style="text-align: center;margin-top:50px;">This is a test page for WebSocket test of the WebCpp server</h3>
    <div class="box">  	  
  	  <div><button id="button_send">Send</button></div>
  	  <div>Status: <span id="status_box"></span></div>
    </div>
    </body class="ws">
    <script>

    	var statusBox = document.getElementById("status_box");
		function setStatus(str)
	  	{
	  		statusBox.textContent = str;
	  	}

    	var socket = new WebSocket("ws://127.0.0.1:8081");
    	socket.onopen = function () {
			setStatus("Connected to WebSocket server");    				
	  	};
	  		
	  	socket.onmessage = function(event) {
			setStatus("Received: " + event.data);
	  	};
	  		
	  	socket.onclose = function(event) {
			setStatus("Closed");
	  	};
	  		
	  	socket.onerror = function(event) {
			setStatus("Error: " + event);
	  	};

    	var dataToSend = "{ \"message\": \"Hello\" }";		
		var buttonSend = document.getElementById("button_send");				  	
	  	
	  	buttonSend.addEventListener('click', function () 
	  	{	  		
	  		socket.send(dataToSend);	
	  	});	  	  
	  		  	
	</script>
<html>